<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content=" width=device -width , initial-scale =1.0" />
    <title>Trang chu</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <script src="script.js"></script>
  </head>

  <body class="body">
    <div class="wrapper">
      <div class="anh">
        <div class="head-sroll" id="myHeader">
          <div class="heaader">
            <a href="#" class="text-header">THUYHANG</a>
            <nav>
              <ul>
                <li>
                  <select
                    class="form-select"
                    aria-label="Default select example"
                    id="select-product"
                  >
                    <option selected>Chọn đồ thuê</option>
                    <option value="1">Rạp</option>
                    <option value="2">Bàn ghế</option>
                    <option value="3">Nhạc và sân khấu</option>
                  </select>
                  <!-- <script>
                    var a =document.getElementById("select-product");
                    if(a!=null && a!=undefined){
                      a.addEventListener("change",function(){

                      })
                    }
                  </script> -->
                </li>
                <li>
                  <div class="find">
                    <form action="order.php" method="GET">
                      <input
                        type="text"
                        name="find"
                        placeholder="Tìm kiếm sản phẩm"
                        class="find-c"
                      />
                    </form>
                  </div>
                </li>
                <li><a class="text-header trangchu" href="#">Trang chủ</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <div id="main">
      <div id="list-product" class="list-product">
        <div class="product">
          <div class="product-img">
            <img src="./img/trangxanh1.jpg" />
          </div>
          <div class="space"></div>
          <div class="title-product">
            <div class="name-product"></div>
            <div class="price-product"></div>

            <input
              type="button"
              name="hinorder"
              class="btn-one"
              id="1"
              onclick="showModal(1)"
              value="Xem thêm"
            />
          </div>
        </div>
        <div class="product">
          <div class="product-img">
            <img src="./img/trangxanh1.jpg" />
          </div>
          <div class="space"></div>
          <div class="title-product">
            <div class="name-product"></div>
            <div class="price-product"></div>

            <input
              type="button"
              name="hinorder"
              class="btn-one"
              id="1"
              onclick="showModal(1)"
              value="Xem thêm"
            />
          </div>
        </div>
        <div class="product">
          <div class="product-img">
            <img src="./img/trangxanh1.jpg" />
          </div>
          <div class="space"></div>
          <div class="title-product">
            <div class="name-product"></div>
            <div class="price-product"></div>

            <input
              type="button"
              name="hinorder"
              class="btn-one"
              id="1"
              onclick="showModal(1)"
              value="Xem thêm"
            />
          </div>
        </div>
        <div class="product">
          <div class="product-img">
            <img src="./img/trangxanh1.jpg" />
          </div>
          <div class="space"></div>
          <div class="title-product">
            <div class="name-product"></div>
            <div class="price-product"></div>

            <input
              type="button"
              name="hinorder"
              class="btn-one"
              id="1"
              onclick="showModal(1)"
              value="Xem thêm"
            />
          </div>
        </div>
        <div class="product">
          <div class="product-img">
            <img src="./img/trangxanh1.jpg" />
          </div>
          <div class="space"></div>
          <div class="title-product">
            <div class="name-product"></div>
            <div class="price-product"></div>

            <input
              type="button"
              name="hinorder"
              class="btn-one"
              id="1"
              onclick="showModal(1)"
              value="Xem thêm"
            />
          </div>
        </div>
        <div class="product">
          <div class="product-img">
            <img src="./img/trangxanh1.jpg" />
          </div>
          <div class="space"></div>
          <div class="title-product">
            <div class="name-product"></div>
            <div class="price-product"></div>

            <input
              type="button"
              name="hinorder"
              class="btn-one"
              id="1"
              onclick="showModal(1)"
              value="Xem thêm"
            />
          </div>
        </div>
      </div>
      <!-- <div id="img-zoomer-box">
        <img
          src="./img/trangxanh1.jpg"
          id="img-1"
          alt="Zoom Image on Mouseover"
        />
        <div id="img-2"></div>
      </div> -->
    </div>

    <div class="formtobuy" id="formtobuy">
      <div class="formtobuy1" id="formtobuy1">
        <script type="text/javascript">
          let x = document.getElementById("formtobuy");
          x.addEventListener("click", function handleClickOutsideBox(event) {
            const box = document.getElementById("formtobuy1");

            if (!box.contains(event.target)) {
              document.getElementById("formtobuy").style.visibility = "hidden";
              document.getElementsByClassName("body")[0].style.overflow =
                "scroll";
            }
          });
        </script>

        <form method="POST">
          <div class="formthongtin">
            <div>
              <p class="text-header1" id="text-title">Rạp trắng xanh</p>
            </div>
            <div class="left-formthongtin">
              <div class="login-order" id="tatorder">Xóa</div>
              <script>
                const a = document
                  .getElementById("tatorder")
                  .addEventListener("click", hehe1);
                function hehe1() {
                  document.getElementById("formtobuy").style.visibility =
                    "hidden";
                  console.log(a);
                  document.getElementsByClassName("body")[0].style.overflow =
                    "scroll";
                }
              </script>
              <div class="slideshow-container" id="slideshow">
                <!-- Full-width images with number and caption text -->
                <div class="mySlides fade">
                  <div class="numbertext">1 / 3</div>
                  <div id="img-zoomer-box">
                    <img id="image-1" alt="Zoom Image on Mouseover" />
                    <div id="img-1"></div>
                  </div>
                </div>

                <div class="mySlides fade">
                  <div class="numbertext">2 / 3</div>
                  <div id="img-zoomer-box1">
                    <img id="image-2" alt="Zoom Image on Mouseover" />
                    <div id="img-2"></div>
                  </div>
                </div>

                <div class="mySlides fade">
                  <div class="numbertext">3 / 3</div>
                  <div id="img-zoomer-box2">
                    <img id="image-3" alt="Zoom Image on Mouseover" />
                    <div id="img-3"></div>
                  </div>
                </div>

                <!-- Next and previous buttons -->
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
              </div>
              <br />

              <!-- The dots/circles -->
              <div style="text-align: center">
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
              </div>
            </div>

            <!-- <div class="right-formthongtin">
              <div class="soluong">
                <input type="button" onclick="tru()" value="-" />
                <input type="text" value="1" id="soluong" class="text" />
                <input type="button" onclick="cong()" value="+" />
              </div>
            </div> -->
          </div>
        </form>
      </div>
    </div>
    <script>
      let findProp;

      function showModal(id) {
        findProp = Object.values(family).filter((prop) => prop.id == id);
        console.log(findProp);
        console.log(family);
        if (findProp != null) {
          console.log("wwork");
          document.getElementById("text-title").innerHTML = findProp[0].name;
          var i = 1;
          var dem = 0;
          console.log(findProp[0].img.length);
          for (const a in findProp[0].img) {
            document.getElementById("image-" + i).src =
              "./img/" + findProp[0].img[dem];
            dem++;
            i++;
            console.log(i);
          }
          document.getElementById("formtobuy").style.visibility = "visible";
          document.getElementsByClassName("body")[0].style.overflow = "hidden";
          showSlides(1);
        }
      }
      var slideIndex = 1;
      showSlides(slideIndex);

      // Next/previous controls
      function plusSlides(n) {
        console.log("ban đàua " + slideIndex);
        showSlides((slideIndex += n));
        console.log(slideIndex);
        let slides = document.getElementsByClassName("mySlides");
        console.log(slides.length);
      }

      // Thumbnail image controls
      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("dot");
        if (n > slides.length) {
          slideIndex = 1;
        }
        if (n < 1) {
          slideIndex = slides.length;
        }
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
          dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
        var string =
          "url('img/" + findProp[0].img[slideIndex - 1] + "') no-repeat #FFF";
        // document.getElementById("img-2").style.background =
        //   "url('img/" + findProp[0].img[slideIndex] + "') no-repeat #FFF";
        document.getElementById("img-" + slideIndex).style.background = string;
      }
    </script>
    <script>
      let family = {
        1: {
          id: 1,
          name: "Trắng xanh",
          age: 30,
          img: ["trangxanh1.jpg", "trangxanh2.jpg", "trangxanh3.jpg"],
          cap: ["Ảnh đối diện", "Ảnh bên trái", "Ảnh bên phải"],
        },
        2: {
          id: 2,
          name: "Megan",
          age: 40,
        },
        3: {
          id: 3,
          name: "Aaliyah",
          age: 2,
        },
      };
      function list(family) {
        for (var prop in family) {
          document.getElementById("main").innerHTML +=
            ' <div class="product"> <div class="product-img"><img src="./img/anh.jpg" /> </div><div class="space"></div><div class="title-product"><div class="name-product">' +
            family[prop].age +
            '</div><div class="price-product"></div><input type="button"name="hinorder" class="btn-one"id="1"onclick=""value="Đặt liền"/></div> </div>';
          console.log(prop);
        }
      }

      // list(family);
    </script>
    <script>
      //   function showModal(id) {
      //     findProp = Object.values(family).filter((prop) => prop.id == id);
      //     console.log(findProp);
      //     console.log(family);
      //     if (findProp != null) {
      //       console.log("wwork");
      //       document.getElementById("text-title").innerHTML = findProp[0].name;
      //       var i = 1;
      //       var dem = 0;
      //       console.log(findProp[0].img.length);
      //       for (const a in findProp[0].img) {
      //         document.getElementById("image-" + i).src =
      //           "./img/" + findProp[0].img[dem];
      //         dem++;
      //         i++;
      //         console.log(i);
      //       }
      //       document.getElementById("formtobuy").style.visibility = "visible";
      //       document.getElementsByClassName("body")[0].style.overflow = "hidden";
      //       showSlides(1);
      //     }
      //   }
    </script>
    <script>
      let zoomer = (function () {
        document.querySelector("#img-zoomer-box").addEventListener(
          "mousemove",
          function (e) {
            let original = document.querySelector("#image-1"),
              magnified = document.querySelector("#img-1"),
              style = magnified.style,
              x = e.pageX - this.offsetLeft,
              y = e.pageY - this.offsetTop - 100,
              //   imgWidth = original.offsetWidth,
              //   imgHeight = original.offsetHeight,
              imgWidth = original.offsetWidth,
              imgHeight = original.offsetHeight,
              xperc = (x / imgWidth) * 100,
              yperc = (y / imgHeight) * 100;

            //lets user scroll past right edge of image
            if (x > 0.01 * imgWidth) {
              xperc += 0.15 * xperc;
            }

            //lets user scroll past bottom edge of image
            if (y >= 0.01 * imgHeight) {
              yperc += 0.15 * yperc;
            }

            style.backgroundPositionX = xperc - 80 + "%";
            style.backgroundPositionY = yperc - 5 + "%";

            style.left = x - 480 + "px";
            style.top = y - 100 + "px";
            // console.log("xperc" + xperc);
            // console.log("ytperc" + yperc);
            // console.log(x);
            // console.log(y);
            // console.log(imgWidth);
            // console.log(imgHeight);
            // console.log(
            //   "e.pagex " + e.pageX + " " + e.pageY + " " + this.offsetLeft
            // );
          },
          false
        );
      })();
      let zoomer1 = (function () {
        document.querySelector("#img-zoomer-box1").addEventListener(
          "mousemove",
          function (e) {
            let original = document.querySelector("#image-2"),
              magnified = document.querySelector("#img-2"),
              style = magnified.style,
              x = e.pageX - this.offsetLeft,
              y = e.pageY - this.offsetTop - 100,
              //   imgWidth = original.offsetWidth,
              //   imgHeight = original.offsetHeight,
              imgWidth = original.offsetWidth,
              imgHeight = original.offsetHeight,
              xperc = (x / imgWidth) * 100,
              yperc = (y / imgHeight) * 100;

            //lets user scroll past right edge of image
            if (x > 0.01 * imgWidth) {
              xperc += 0.15 * xperc;
            }

            //lets user scroll past bottom edge of image
            if (y >= 0.01 * imgHeight) {
              yperc += 0.15 * yperc;
            }

            style.backgroundPositionX = xperc - 80 + "%";
            style.backgroundPositionY = yperc - 5 + "%";

            style.left = x - 480 + "px";
            style.top = y - 100 + "px";
            console.log("xperc" + xperc);
            console.log("ytperc" + yperc);
            console.log(x);
            console.log(y);
            console.log(imgWidth);
            console.log(imgHeight);
            console.log(
              "e.pagex " + e.pageX + " " + e.pageY + " " + this.offsetLeft
            );
          },
          false
        );
      })();
      let zoomer2 = (function () {
        document.querySelector("#img-zoomer-box2").addEventListener(
          "mousemove",
          function (e) {
            let original = document.querySelector("#image-3"),
              magnified = document.querySelector("#img-3"),
              style = magnified.style,
              x = e.pageX - this.offsetLeft,
              y = e.pageY - this.offsetTop - 100,
              //   imgWidth = original.offsetWidth,
              //   imgHeight = original.offsetHeight,
              imgWidth = original.offsetWidth,
              imgHeight = original.offsetHeight,
              xperc = (x / imgWidth) * 100,
              yperc = (y / imgHeight) * 100;

            //lets user scroll past right edge of image
            if (x > 0.01 * imgWidth) {
              xperc += 0.15 * xperc;
            }

            //lets user scroll past bottom edge of image
            if (y >= 0.01 * imgHeight) {
              yperc += 0.15 * yperc;
            }

            style.backgroundPositionX = xperc - 80 + "%";
            style.backgroundPositionY = yperc - 5 + "%";

            style.left = x - 480 + "px";
            style.top = y - 100 + "px";
            console.log("xperc" + xperc);
            console.log("ytperc" + yperc);
            console.log(x);
            console.log(y);
            console.log(imgWidth);
            console.log(imgHeight);
            console.log(
              "e.pagex " + e.pageX + " " + e.pageY + " " + this.offsetLeft
            );
          },
          false
        );
      })();
    </script>
    <script>
      //   let zoomer1 = (function () {
      //     document.querySelector("#slideshow").addEventListener(
      //       "mousemove",
      //       function (e) {
      //         let original = document.querySelector("#image1"),
      //           magnified = document.querySelector("#img-2"),
      //           style = magnified.style,
      //           x = e.pageX - this.offsetLeft,
      //           y = e.pageY - this.offsetTop,
      //           imgWidth = original.offsetWidth,
      //           imgHeight = original.offsetHeight,
      //           xperc = (x / imgWidth) * 100,
      //           yperc = (y / imgHeight) * 100;

      //         //lets user scroll past right edge of image
      //         if (x > 0.01 * imgWidth) {
      //           xperc += 0.15 * xperc;
      //         }

      //         //lets user scroll past bottom edge of image
      //         if (y >= 0.01 * imgHeight) {
      //           yperc += 0.15 * yperc;
      //         }

      //         style.backgroundPositionX = xperc - 9 + "%";
      //         style.backgroundPositionY = yperc - 9 + "%";

      //         style.left = x - 180 + "px";
      //         style.top = y - 180 + "px";
      //       },
      //       false
      //     );
      //   })();
    </script>
    <script>
      window.onkeydown = function (e) {
        var keyCode = e.key || e.keyIdentifier || e.keyCode;
        if (keyCode == 27 || keyCode == "Escape") {
          document.getElementById("formtobuy").style.visibility = "hidden";
          document.getElementsByClassName("body")[0].style.overflow = "scroll";
        }
      };
    </script>
    <script>
      var ratio = window.devicePixelRatio || 1;
      var w = screen.width;
      var h = screen.height;
      var width = window.innerWidth > 0 ? window.innerWidth : screen.width;

      var b = console.log(w + " " + h + " " + ratio + " " + width);
    </script>
  </body>
</html>
